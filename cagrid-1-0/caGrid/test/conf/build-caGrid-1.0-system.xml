<project name="build-cagrid" default="all" basedir="checkout/caGrid-1.0-system">

	<target name="prepare">
		<mkdir dir="cagrid-1-0"/>
	</target>

	<target name="clean-cagrid" depends="prepare">
	        <ant antfile="build.xml" dir="cagrid-1-0/caGrid" target="clean"/>
	</target>

	<target name="clean-tests" depends="prepare">
	        <ant antfile="build.xml" dir="cagrid-1-0/tests" target="clean"/>
	</target>

	<target name="clean" depends="clean-cagrid,clean-tests"/>



	<target name="update-cagrid" depends="prepare">
		<cvs failonerror="true" command="-d:ext:oster@cbiocvs2.nci.nih.gov:/share/content/gforge/cagrid-1-0 up -Pd cagrid-1-0/caGrid"/> 
	</target>

	<target name="update-tests" depends="prepare">
	        <cvs failonerror="true" command="-d:ext:oster@cbiocvs2.nci.nih.gov:/share/content/gforge/cagrid-1-0 up -Pd cagrid-1-0/tests"/>
	</target>

	<target name="update" depends="update-cagrid,update-tests"/>



	<target name="build-cagrid">
	        <ant antfile="build.xml" dir="cagrid-1-0/caGrid" target="all"/>
	</target>

	<target name="build-tests">
	        <ant antfile="build.xml" dir="cagrid-1-0/tests" target="all"/>
	</target>

	<target name="build" depends="update,clean,build-cagrid,build-tests"/>



	<target name="test-cagrid">
        	<ant antfile="build.xml" dir="cagrid-1-0/caGrid" target="test"/>
	</target>

	<target name="test-tests" depends="build">
        	<ant antfile="build.xml" dir="cagrid-1-0/tests" target="test">
			<property name="dont.instrument" value="true"/>
		</ant>
	</target>

	<target name="just-test">
        	<ant antfile="build.xml" dir="cagrid-1-0/tests" target="test">
			<property name="dont.instrument" value="true"/>
		</ant>
	</target>



	<target name="all" depends="test-tests"/>

</project>