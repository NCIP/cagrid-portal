<?xml version="1.0" encoding="UTF-8"?>
<jndiConfig xmlns="http://wsrf.globus.org/jndi/config">
  <service name="SERVICE-INSTANCE-PREFIX/WorkflowServiceImpl">
    <resource name="home" type="gov.nih.nci.cagrid.workflow.context.service.globus.resource.WorkflowServiceHome">
      <resourceParams>
        <parameter>
          <name>factory</name>
          <value>org.globus.wsrf.jndi.BeanFactory</value>
        </parameter>
        <parameter>
            <name>resourceClass</name>
            <value>gov.nih.nci.cagrid.workflow.context.service.globus.resource.WorkflowResource</value>
        </parameter>
        <parameter>
            <name>resourceKeyName</name>
            <value>{http://workflow.cagrid.nci.nih.gov/WorkflowServiceImpl}WorkflowKey</value>
        </parameter>
        <parameter>
            <name>sweeperDelay</name>
            <value>60000</value>
        </parameter>
      </resourceParams>
    </resource>
    <resourceLink name="serviceconfiguration" target="java:comp/env/services/SERVICE-INSTANCE-PREFIX/WorkflowFactoryService/serviceconfiguration" />
    <resourceLink name="workflowFactoryServiceHome" target="java:comp/env/services/SERVICE-INSTANCE-PREFIX/WorkflowFactoryService/home" />
  </service>
  <service name="SERVICE-INSTANCE-PREFIX/WorkflowFactoryService">
    <resource name="configuration" type="gov.nih.nci.cagrid.workflow.service.globus.resource.ResourceConfiguration">
      <resourceParams>
        <parameter>
          <name>factory</name>
          <value>org.globus.wsrf.jndi.BeanFactory</value>
        </parameter>
        <parameter>
          <name>performRegistration</name>
          <!-- Set this to false to skip ServiceGroup registration -->
          <value>true</value>
        </parameter>
        <parameter>
          <name>registrationTemplateFile</name>
          <!-- Set this to the relative path (from the container root, e.g GLOBUS_LOCATION for globus container) of the registration parameters template file (ignored if performRegistration is false) -->
          <value>ETC-PATH/registration.xml</value>
        </parameter>
      </resourceParams>
    </resource>
    <resource name="serviceconfiguration" type="gov.nih.nci.cagrid.workflow.service.ServiceConfiguration">
      <resourceParams>
        <parameter>
          <name>factory</name>
          <value>org.globus.wsrf.jndi.BeanFactory</value>
        </parameter>
        <parameter>
            <name>abEndpoint</name>
            <value>http://localhost:8080/active-bpel/services/</value>
        </parameter>
      </resourceParams>
    </resource>
    <resource name="home" type="gov.nih.nci.cagrid.workflow.service.globus.resource.WorkflowFactoryHome">
      <resourceParams>
        <parameter>
          <name>factory</name>
          <value>org.globus.wsrf.jndi.BeanFactory</value>
        </parameter>
      </resourceParams>
    </resource>
    <resourceLink name="workflowServiceImplHome" target="java:comp/env/services/SERVICE-INSTANCE-PREFIX/WorkflowServiceImpl/home" />
  </service>
</jndiConfig>

