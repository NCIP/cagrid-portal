package org.cagrid.transfer.context.service;

import java.rmi.RemoteException;

import org.cagrid.transfer.context.service.globus.resource.TransferServiceContextResource;
import org.globus.ftp.dc.TransferContext;

/**
 * TODO:I am the service side implementation class. IMPLEMENT AND DOCUMENT ME
 * 
 * @created by Introduce Toolkit version 1.2
 */
public class TransferServiceContextImpl extends TransferServiceContextImplBase {

    public TransferServiceContextImpl() throws RemoteException {
        super();
    }

  public org.cagrid.transfer.AnyXmlType get(org.cagrid.transfer.EmptyType params) throws RemoteException {
        // TODO: Implement this autogenerated method
        throw new RemoteException("Not yet implemented");
    }

  public org.cagrid.transfer.descriptor.DataTransferDescriptor getDataTransferDescriptor() throws RemoteException {
      TransferServiceContextResource resource = null;
      try {
        resource = getResourceHome().getAddressedResource();
    } catch (Exception e) {
        e.printStackTrace();
        throw new RemoteException("Error locating resource", e);
    }
    org.cagrid.transfer.descriptor.DataTransferDescriptor dataDesc = new org.cagrid.transfer.descriptor.DataTransferDescriptor();
    try {
        dataDesc.setUrl(getConfiguration().getTransferServletBaseURL() + "?id=" + resource.getID());
    } catch (Exception e) {
        e.printStackTrace();
        throw new RemoteException("Cannot load ServiceConfiguration",e);
    }
    
    return dataDesc;
  }

}
