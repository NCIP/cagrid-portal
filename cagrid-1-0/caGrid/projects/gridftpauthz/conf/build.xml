<?xml version="1.0"?>

<!-- ================================================================= -->
<!-- Generic build file                                                    -->
<!-- ================================================================= -->

<project name="GridGrouper Authorization Config Customization" default="install" basedir=".">
	<property name="gridftp_auth_config.file" value="gridftp_java_auth.cfg"/>

	<target name="install" description="Customize the gridgrouper config with the location of your GridFTP install directory">
		<property environment="env"/>

                <fail message="GRIDFTP_ROOT environment variable is not set. Please set it before running this script.">
		<condition>
			<or>
				<not>
					<isset property="env.GRIDFTP_ROOT"/>
				</not>
				<equals arg1="${env.GRIDFTP_ROOT}" arg2=""/>
			</or>
		</condition>
                </fail>
                <echo message="GRIDFTP_ROOT=${env.GRIDFTP_ROOT}"/>

		<replace file="${gridftp_auth_config.file}" token="@@GRIDFTP_ROOT@@" value="${env.GRIDFTP_ROOT}"/>

	</target>

</project>

