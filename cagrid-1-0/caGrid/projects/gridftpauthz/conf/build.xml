<?xml version="1.0"?>

<!-- ================================================================= -->
<!-- Generic build file                                                    -->
<!-- ================================================================= -->

<project name="GridGrouper Authorization Config Customization" default="install" basedir=".">
	<property name="gridftp_auth_config.file" value="gridftp_java_auth.cfg"/>

	<target name="install" description="Customize the gridgrouper config with the location of your GridFTP install directory">
		<property environment="env"/>
		<!-- check that GLOBUS_LOCATION is set -->
		<fail>
			<condition>
				<isset property="${env.GLOBUS_LOCATION}"/>
			</condition>
		</fail>

		<!-- make replacements in the bashrc file and the gridftp service startup file -->
		<replace file="${gridftp_auth_config.file}" token="@@GRIDFTP_ROOT@@" value="${env.GLOBUS_LOCATION}"/>

	</target>

</project>

