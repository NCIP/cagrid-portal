<?xml version="1.0" encoding="UTF-8"?>
<deployment name="defaultServerConfig" 
    xmlns="http://xml.apache.org/axis/wsdd/" 
    xmlns:java="http://xml.apache.org/axis/wsdd/providers/java" 
    xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    
    <handler name="responseFilter" type="java:gov.nih.nci.cagrid.authorization.FilterDelegator">
   		<parameter name="beansFile" value="etc/gov_nih_nci_cagrid_chat_service/response-filter-config.xml"/>
   	</handler>
    
    <!-- Instance service -->
    <service name="chat/ChatSessionService" provider="Handler" use="literal" style="document">
        <parameter name="className" value="gov.nih.nci.cagrid.chat.service.impl.ChatSessionService"/>
        <wsdlFile>share/schema/chat/ChatSessionService/ChatSessionService_service.wsdl</wsdlFile>
        <parameter name="allowedMethods" value="*"/>
        <parameter name="handlerClass" value="org.globus.axis.providers.RPCProvider"/>
        <parameter name="scope" value="Application"/>
        <parameter name="securityDescriptor" value="etc/gov_nih_nci_cagrid_chat_service/instance-security-config.xml"/>
        <parameter name="providers" 
        	value="GetRPProvider
        		   GetMRPProvider
        		   SetRPProvider
        		   QueryRPProvider
        		   SetTerminationTimeProvider
        		   SubscribeProvider
        		   GetCurrentMessageProvider"/>
        <parameter name="pip-beansFile" value="etc/gov_nih_nci_cagrid_chat_service/pip-config.xml"/>
       	<parameter name="csmPDP-beansFile" value="etc/gov_nih_nci_cagrid_chat_service/pdp-config.xml"/>
       	
       	<responseFlow>
        	<handler type="responseFilter"/>
        </responseFlow>

    </service>

    <!-- Factory service -->
    <service name="chat/ChatSessionFactoryService" provider="Handler" use="literal" style="document">
        <parameter name="className" value="gov.nih.nci.cagrid.chat.service.impl.ChatSessionFactoryService"/>
        <wsdlFile>share/schema/chat/ChatSessionFactoryService/ChatSessionFactoryService_service.wsdl</wsdlFile>
        <parameter name="allowedMethods" value="*"/>
        <parameter name="handlerClass" value="org.globus.axis.providers.RPCProvider"/>
        <parameter name="scope" value="Application"/>
        <parameter name="securityDescriptor" value="etc/gov_nih_nci_cagrid_chat_service/factory-security-config.xml"/>
        <parameter name="instance" value="chat/ChatSessionService"/>
        
        <parameter name="pip-beansFile" value="etc/gov_nih_nci_cagrid_chat_service/pip-config.xml"/>
       	<parameter name="csmPDP-beansFile" value="etc/gov_nih_nci_cagrid_chat_service/pdp-config.xml"/>
       	
        
    </service>

</deployment>
