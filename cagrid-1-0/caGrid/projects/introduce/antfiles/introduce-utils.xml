<!-- ======================================================================= -->
<!-- caGrid Analytical Utilities build file                                  -->
<!-- ======================================================================= -->
<project name="introduce_utilities" basedir="." default="usage">
	<property name="conf.dir" location="conf"/>
	<property name="introduce.portal.conf"
		location="${conf.dir}/introduce/introduce-portal-conf.xml"/>
	<target name="introduce" depends="build" description="Execute the Introduce GDE">
		<runPortal configfile="${introduce.portal.conf}"/>
	</target>
	<macrodef name="runPortal">
		<attribute name="configFile"/>
		<sequential>
			<echo message="Running portal with @{configFile}"/>
			<java classname="gov.nih.nci.cagrid.introduce.portal.Introduce" fork="yes">
				<arg value="@{configFile}"/>
				<classpath refid="Portal.run.classpath"/>
			</java>
		</sequential>
	</macrodef>
	<!-- =================================================================== -->
	<!-- GME Viewer                                                          -->
	<!-- =================================================================== -->
	<target name="gmeViewer" depends="checkGlobus" description="Execute the Gme Viewer">
		<java classname="org.globus.bootstrap.Bootstrap" fork="yes">
			<jvmarg value="-DGLOBUS_LOCATION=${ext.globus.dir}"/>
			<arg value="org.projectmobius.tools.gme.viewer.GMEView"/>
			<arg value="-config"/>
			<arg value="${conf.dir}/gme-view-globus-config.xml"/>
			<classpath>
				<fileset dir="${jars.dir}">
					<include name="*.jar"/>
				</fileset>
				<fileset dir="${lib.dir}">
					<include name="*.jar"/>
				</fileset>
				<fileset dir="${ext.lib.dir}">
					<include name="*.jar"/>
				</fileset>
				<fileset dir="${ext.globus.dir}/lib">
					<include name="*.jar"/>
				</fileset>
				<fileset dir="${ant.library.dir}">
					<include name="ant.jar"/>
					<include name="ant-launcher.jar"/>
				</fileset>
			</classpath>
		</java>
	</target>
</project>
