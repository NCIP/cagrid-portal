<?xml version="1.0" encoding="UTF-8" ?>
<ServiceGroupRegistrations xmlns="http://mds.globus.org/servicegroup/client"
  xmlns:sgc="http://mds.globus.org/servicegroup/client" xmlns:xsd="http://www.w3.org/2001/XMLSchema"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:wsa="http://schemas.xmlsoap.org/ws/2004/03/addressing"
  xmlns:agg="http://mds.globus.org/aggregator/types">
  <!-- The defaultServiceGroupEPR defines the servicegroup to which 
    registrations will be made, unless overridden in the 
    ServiceGroupRegistrationParameters
  -->
  <defaultServiceGroupEPR>
    <!-- TODO: template this for the Index Service EPR -->
    <wsa:Address>https://localhost:8080/wsrf/services/DefaultIndexService</wsa:Address>
  </defaultServiceGroupEPR>
  <!-- The details of the registration -->
  <ServiceGroupRegistrationParameters xmlns:sgc="http://mds.globus.org/servicegroup/client"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:wsa="http://schemas.xmlsoap.org/ws/2004/03/addressing"
    xmlns:agg="http://mds.globus.org/aggregator/types"
    xmlns="http://mds.globus.org/servicegroup/client">
    <!-- Specifies that the registration will be renewed every 10 minutes -->
    <RefreshIntervalSecs>600</RefreshIntervalSecs>
    <Content xsi:type="agg:AggregatorContent" xmlns:agg="http://mds.globus.org/aggregator/types">
      <agg:AggregatorConfig xsi:type="agg:AggregatorConfig">
        <agg:GetMultipleResourcePropertiesPollType
          xmlns:cadsr="gme://caGrid.caBIG/1.0/gov.nih.nci.cagrid.metadata.cadsr"
          xmlns:com="gme://caGrid.caBIG/1.0/gov.nih.nci.cagrid.metadata.common"
          xmlns:anl="gme://caGrid.caBIG/1.0/gov.nih.nci.cagrid.metadata.analytical">
          <!-- Specifies that the index should refresh information
            every 300000 milliseconds (once every 5 minutes) -->
          <agg:PollIntervalMillis>300000</agg:PollIntervalMillis>
          <!-- specifies all Resource Properties that should be retrieved
            from the service -->
          <agg:ResourcePropertyNames>com:CommonServiceMetadata</agg:ResourcePropertyNames>
          <!-- TODO: template which RPs to add here -->
          <!-- <agg:ResourcePropertyNames>anl:AnalyticalServiceMetadata</agg:ResourcePropertyNames> -->
        </agg:GetMultipleResourcePropertiesPollType>
      </agg:AggregatorConfig>
      <agg:AggregatorData/>
    </Content>
  </ServiceGroupRegistrationParameters>
</ServiceGroupRegistrations>
