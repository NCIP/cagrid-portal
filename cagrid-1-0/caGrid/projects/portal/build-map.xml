<?xml version="1.0"?>
<project basedir=".">

    <property name="map.src.dir" value="${src.dir}/java/gov/nih/nci/cagrid/portal/map"/>

    <target name="cleanMapComponent">
        <property name="map.src.dir" value="${src.dir}/java/gov/nih/nci/cagrid/portal/map"/>
        <delete file="${webinf.classes.dir}/PortalMap.tld"/>
        <delete file="${webinf.classes.dir}/map-faces-config.xml"/>
        <delete file="${webcontent.dir}/js/CustomMapScript.js"/>
    </target>


    <target name="setUpMapComponent"
            description="Main target to build and setup map component">

        <copy todir="${webinf.classes.dir}">
            <fileset dir="${map.src.dir}">
                <include name="PortalMap.tld"/>
                <include name="map-faces-config.xml"/>
            </fileset>
        </copy>

        <copy todir="${webcontent.dir}/js">
            <fileset dir="${map.src.dir}">
                <include name="CustomMapScript.js"/>
            </fileset>
        </copy>

        <copy
                file="${map.src.dir}/googleMap.properties.template"
                tofile="${webinf.classes.dir}/googleMap.properties"
                filtering="true"
                overwrite="true">
            <filterset>
                <filter token="GOOGLE_MAP_KEY_VALUE" value="${google.map.key}"/>
            </filterset>
        </copy>
    </target>
</project>