<!-- ======================================================================= -->
<!-- caGrid Reporting Utilities build file                                   -->
<!-- ======================================================================= -->
<project name="caGrid_report_utilities" basedir="." default="">

	<property name="share.lib.dir" location="share/lib" />
	<property name="javancss.excludes" location="**/build/,**/stubs/,**/bean/,**/beans/,**/opensaml/" />
	<property name="javancss.functionMetrics" location="false" />
	<property name="javancss.classMetrics" location="false" />

	<path id="javancss.classpath">
		<fileset dir="${share.lib.dir}/javancss">
			<include name="*.jar" />
		</fileset>
	</path>

	<taskdef name="javancss" classname="javancss.JavancssAntTask" classpathref="javancss.classpath" />
	<target name="javancss" description="Generates an HTML report of code metrics">
		<javancss srcdir="${basedir}" functionMetrics="${javancss.functionMetrics}" classMetrics="${javancss.classMetrics}" includes="**/*.java" excludes="${javancss.excludes}" generateReport="true" outputfile="javancss_metrics.xml" format="xml" />
		<xslt in="javancss_metrics.xml" out="javancss_metrics.html" style="${share.lib.dir}/javancss/javancss2html.xsl" />
		<delete file="javancss_metrics.xml" />
	</target>

</project>
