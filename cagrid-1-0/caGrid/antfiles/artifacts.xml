<!-- ======================================================================= -->
<!-- caGrid Artifacts build file                                             -->
<!-- ======================================================================= -->
<project name="caGrid_artifacts" basedir="." default="usage">
	<!-- =============================================================== -->
	<!-- Define the build artifacts (created/used by projects) here      -->
	<!--                                                                 -->
	<!-- NOTE:  These should be all of the files necessary to "depend" on-->
	<!-- the project (not just the built files).  Make a separate        -->
	<!-- artifact for groups of files that will probably be copied to    -->
	<!-- separate directoris (e.g. jars and conf files)                  -->
	<!-- =============================================================== -->
	<target name="defineArtifacts" depends="prepare">

		<!-- Common Jar Artifacts -->
		<artifact track="main" type="jars" id="mobius.jars">
			<fileset dir="${share.dir}/lib/mobius">
				<include name="*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="caCORE.jars">
			<fileset dir="${share.dir}/lib/caCORE">
				<include name="*.jar" />
				<exclude name="*ehcache*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="caCORE-fixed.jars">
			<fileset dir="${share.dir}/lib/caCORE">
				<include name="*.jar" />
				<exclude name="client.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="mds.jars">
			<fileset dir="${share.dir}/lib/mds">
				<include name="*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="ant-contrib.jars">
			<fileset dir="${share.dir}/lib">
				<include name="ant-contrib.jar" />
			</fileset>
		</artifact>
		<artifact track="test" type="jars" id="common.test.jars">
			<fileset dir="${test.lib.dir}">
				<include name="jdepend*.jar" />
				<include name="junit*.jar" />
				<include name="xmlunit*.jar" />
			</fileset>
		</artifact>
		<artifact track="test" type="jars" id="test.coverage.jars">
			<fileset dir="${test.lib.dir}/cobertura">
				<include name="*.jar" />
			</fileset>
		</artifact>


		<!-- Project Created Artifacts -->
		<artifact track="main" type="jars" id="core.jars">
			<antcall target="build-core" />
			<fileset dir="${projects.dir}/core/build/jars">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/core/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/core/ext/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
		</artifact>
		<artifact track="test" type="jars" id="core.test.jars">
			<antcall target="build-core" />
			<fileset dir="${projects.dir}/core/build/jars">
				<include name="*test*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="resources" id="core.resources">
			<fileset dir="${projects.dir}/core/resources">
				<include name="**" />
			</fileset>
		</artifact>


		<artifact track="main" type="jars" id="common.metadata.jars">
			<antcall target="build-metadata" />
			<fileset dir="${projects.dir}/metadata/build/lib">
				<include name="*-common*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/metadata/ext/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="data.metadata.jars">
			<antcall target="build-metadata" />
			<fileset dir="${projects.dir}/metadata/build/lib">
				<include name="*-common*.jar" />
				<include name="*-data*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="security.metadata.jars">
			<antcall target="build-metadata" />
			<fileset dir="${projects.dir}/metadata/build/lib">
				<include name="*-security*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="schemas" id="metadata.schemas">
			<fileset dir="${projects.dir}/metadata/schema">
				<include name="**/*.xsd" />
			</fileset>
		</artifact>
		<artifact track="main" type="schemas" id="security.metadata.schemas">
			<fileset dir="${projects.dir}/metadata/schema/cagrid/types/security">
				<include name="*.xsd" />
			</fileset>
		</artifact>
		<artifact track="main" type="mappings" id="metadata.mappings">
			<fileset dir="${projects.dir}/metadata">
				<include name="NStoPkg.properties" />
			</fileset>
		</artifact>


		<artifact track="main" type="jars" id="opensaml.jars">
			<antcall target="build-opensaml" />
			<fileset dir="${projects.dir}/opensaml/dist">
				<include name="cagrid-opensaml-1.1.jar" />
			</fileset>
		</artifact>
		<artifact track="endorsed" type="jars" id="opensaml.endorsed">
			<fileset dir="${projects.dir}/opensaml/endorsed">
				<include name="xercesImpl.jar" />
				<include name="xml-apis.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="opensaml.codec">
			<antcall target="build-opensaml" />
			<fileset dir="${projects.dir}/opensaml/lib">
				<include name="commons-codec-1.3.jar" />
			</fileset>
		</artifact>


		<artifact track="main" type="jars" id="graph.jars">
			<antcall target="build-graph" />
			<fileset dir="${projects.dir}/graph/build/jars">
				<include name="*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/graph/lib">
				<include name="*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="gridca.jars">
			<antcall target="build-gridca" />
			<fileset dir="${projects.dir}/gridca/build/lib">
				<include name="*gridca*.jar" />
			</fileset>
		</artifact>
		
		<artifact track="main" type="jars" id="authentication.service.client.jars">
									<antcall target="build-authentication-service" />
									<fileset dir="${projects.dir}/authentication-service/build/lib">
											<include name="caGrid-*-authentication-service-*stubs.jar" />
											<include name="caGrid-*-authentication-service-*common.jar" />
											<include name="caGrid-*-authentication-service-*client.jar" />
											<include name="caGrid-*-authentication-service-*ui.jar" />
									</fileset>
									<fileset dir="${projects.dir}/authentication-service/lib">
											<include name="*.jar" />
											<exclude name="*test*.jar" />
									</fileset>
									<fileset dir="${projects.dir}/authentication-service/ext/lib">
											<include name="*.jar" />
											<exclude name="*test*.jar" />
									</fileset>
				</artifact>
		
		<artifact track="main" type="jars" id="gridgrouper.ui.jars">
							<antcall target="build-gridgrouper" />
							<fileset dir="${projects.dir}/gridgrouper/build/lib">
									<include name="caGrid-*-gridgrouper-*stubs.jar" />
									<include name="caGrid-*-gridgrouper-*common.jar" />
									<include name="caGrid-*-gridgrouper-*client.jar" />
									<include name="caGrid-*-gridgrouper-*ui.jar" />
							</fileset>
							<fileset dir="${projects.dir}/gridgrouper/lib">
									<include name="*.jar" />
									<exclude name="*test*.jar" />
							</fileset>
							<fileset dir="${projects.dir}/gridgrouper/ext/lib">
									<include name="*.jar" />
									<exclude name="*test*.jar" />
							</fileset>
		</artifact>
		<artifact track="main" type="jars" id="gridgrouper.jars">
			<antcall target="build-gridgrouper" />
			<fileset dir="${projects.dir}/gridgrouper/build/lib">
				<include name="*.jar" />
			</fileset>
		</artifact>
		
		<artifact track="main" type="schemas" id="gridgrouper.schemas">
				<fileset dir="${projects.dir}/gridgrouper/schema/GridGrouper/">
					<include name="*.xsd" />
				</fileset>
			</artifact>
		

		
		<artifact track="main" type="jars" id="dorian.ui.jars">
					<antcall target="build-dorian" />
					<fileset dir="${projects.dir}/dorian/build/lib">
							<include name="caGrid-*-Dorian-*stubs.jar" />
							<include name="caGrid-*-Dorian-*common.jar" />
							<include name="caGrid-*-Dorian-*client.jar" />
							<include name="caGrid-*-Dorian-*ui.jar" />
					</fileset>
					<fileset dir="${projects.dir}/dorian/lib">
							<include name="*.jar" />
							<exclude name="*test*.jar" />
					</fileset>
					<fileset dir="${projects.dir}/dorian/ext/lib">
							<include name="*.jar" />
							<exclude name="*test*.jar" />
					</fileset>
		</artifact>
		
		<artifact track="endorsed" type="jars" id="dorian.endorsed">
				<fileset dir="${projects.dir}/dorian/ext/endorsed/lib">
					<include name="*.jar" />
				</fileset>
		</artifact>
		
		<artifact track="main" type="jars" id="dorian.client.jars">
						<antcall target="build-dorian" />
						<fileset dir="${projects.dir}/dorian/build/lib">
								<include name="caGrid-*-Dorian-*stubs.jar" />
								<include name="caGrid-*-Dorian-*common.jar" />
								<include name="caGrid-*-Dorian-*client.jar" />
						</fileset>
						<fileset dir="${projects.dir}/dorian/lib">
								<include name="*.jar" />
								<exclude name="*test*.jar" />
						</fileset>
						<fileset dir="${projects.dir}/dorian/ext/lib">
								<include name="*.jar" />
								<exclude name="*test*.jar" />
						</fileset>
			</artifact>

		<artifact track="main" type="jars" id="dorian.jars">
			<antcall target="build-dorian" />
			<fileset dir="${projects.dir}/dorian/build/lib">
				<include name="*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="dorian.schemas">
			<antcall target="build-dorian" />
			<fileset dir="${projects.dir}/dorian/build/schema/Dorian">
				<include name="*.xsd" />
			</fileset>
		</artifact>
		
		<artifact track="main" type="jars" id="gts.ui.jars">
					<antcall target="build-gts" />
					<fileset dir="${projects.dir}/gts/build/lib">
						<include name="caGrid-*-GTS-*stubs.jar" />
						<include name="caGrid-*-GTS-*common.jar" />
						<include name="caGrid-*-GTS-*client.jar" />
						<include name="caGrid-*-GTS-*ui.jar" />
					</fileset>
					<fileset dir="${projects.dir}/gts/lib">
						<include name="*.jar" />
						<exclude name="*test*.jar" />
					</fileset>
					<fileset dir="${projects.dir}/gts/ext/lib">
						<include name="*.jar" />
						<exclude name="*test*.jar" />
					</fileset>
				</artifact>

		<artifact track="main" type="jars" id="gts.client.jars">
			<antcall target="build-gts" />
			<fileset dir="${projects.dir}/gts/build/lib">
				<include name="caGrid-*-GTS-*stubs.jar" />
				<include name="caGrid-*-GTS-*common.jar" />
				<include name="caGrid-*-GTS-*client.jar" />
			</fileset>
			<fileset dir="${projects.dir}/gts/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/gts/ext/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
		</artifact>

		<artifact track="main" type="jars" id="syncgts.client.jars">
			<antcall target="build-syncgts" />
			<fileset dir="${projects.dir}/syncgts/build/lib">
				<include name="caGrid-*-SyncGTS-*stubs.jar" />
				<include name="caGrid-*-SyncGTS-*common.jar" />
				<include name="caGrid-*-SyncGTS-*client.jar" />
			</fileset>
			<fileset dir="${projects.dir}/syncgts/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/syncgts/ext/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
		</artifact>
		
		<!-- syncGts description and configuration files -->
		<artifact track="main" type="resources" id="syncgts.config.docs">
			<fileset dir="${projects.dir}/syncgts/etc">
				<include name="sync-description.xml" />
			</fileset>
		</artifact>
		

		<artifact track="main" type="jars" id="cadsr.jars">
			<antcall target="build-cadsr" />
			<fileset dir="${projects.dir}/cadsr/build/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/cadsr/lib">
				<include name="*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/cadsr/ext/lib">
				<include name="*.jar" />
			</fileset>
		</artifact>


		<artifact track="main" type="jars" id="data.jars">
			<antcall target="build-data" />
			<fileset dir="${projects.dir}/data/build/lib">
				<include name="*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="schemas" id="data.cql.schemas">
			<fileset dir="${projects.dir}/data/schema">
				<include name="**/*.xsd" />
			</fileset>
		</artifact>
		<artifact track="main" type="resources" id="data.cql.testing.docs">
			<fileset dir="${projects.dir}/data/docs/cqlExamples">
				<include name="**/*.xml"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="sdk.query.jars">
			<antcall target="build-sdkQuery" />
			<fileset dir="${projects.dir}/sdkQuery/build/lib">
				<include name="*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="fqp.jars">
			<antcall target="build-fqp" />
			<fileset dir="${projects.dir}/fqp/build/lib">
				<include name="*.jar">
				</include>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="ws.enum.jars">
			<antcall target="build-wsEnum"/>
			<fileset dir="${projects.dir}/wsEnum/build/lib">
				<include name="*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/wsEnum/lib">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="schemas" id="ws.enum.schemas">
			<fileset dir="${projects.dir}/wsEnum/schema">
				<include name="enumeration.xsd"/>
				<include name="addressing.xsd"/>
				<include name="enumeration.wsdl"/>
			</fileset>
		</artifact>

<!--
		<artifact track="main" type="resources" id="gridca.resources">
			<fileset dir="${projects.dir}/gridca/resources">
				<include name="**" />
			</fileset>
		</artifact>
-->
		<artifact track="main" type="jars" id="introduce.jars">
			<antcall target="build-introduce" />
			<fileset dir="${projects.dir}/introduce/build/jars">
				<include name="*.jar" />
				<exclude name="*tests*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="resources" id="introduce.resources">
			<fileset dir="${projects.dir}/introduce/resources">
				<include name="**" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="introduce.servicesecurity.jars">
			<antcall target="build-introduceServiceSecurity" />
			<fileset dir="${projects.dir}/introduce/operationProviders/ServiceSecurity/build/lib">
				<include name="*.jar" />
				<exclude name="*tests*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/introduce/operationProviders/ServiceSecurity/ext/lib">
				<include name="*.jar" />
				<exclude name="*tests*.jar" />
			</fileset>
		</artifact>


		<artifact track="main" type="jars" id="discovery.jars">
			<antcall target="build-discovery" />
			<fileset dir="${projects.dir}/discovery/build/jars">
				<include name="*.jar" />
				<exclude name="*tests*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/discovery/ext/lib">
				<include name="*.jar" />
				<exclude name="*tests*.jar" />
			</fileset>
		</artifact>
		
		
		<artifact track="main" type="jars" id="metadatautils.jars">
			<antcall target="build-metadatautils" />
			<fileset dir="${projects.dir}/metadatautils/build/jars">
				<include name="*.jar" />
				<exclude name="*tests*.jar" />
			</fileset>
		</artifact>


		<artifact track="main" type="jars" id="gme.globus.client.jars">
			<antcall target="build-gme" />
			<fileset dir="${projects.dir}/gme/lib">
				<include name="GlobalModelExchange.jar" />
				<include name="jdom-1.0.jar" />
				<include name="mobius-castor-0.9.4.3-xml.jar" />
			</fileset>
			<fileset dir="${projects.dir}/gme/build/lib">
				<include name="caGrid-1.0-GlobalModelExchange.jar" />
				<include name="caGrid-1.0-GlobalModelExchange_stubs.jar" />
			</fileset>
		</artifact>
	</target>
</project>
