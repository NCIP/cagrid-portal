<!-- ======================================================================= -->
<!-- caGrid Artifacts build file                                             -->
<!-- ======================================================================= -->
<project name="caGrid_artifacts" basedir="." default="usage">
	<!-- =============================================================== -->
	<!-- Define the build artifacts (created/used by projects) here      -->
	<!--                                                                 -->
	<!-- NOTE:  These should be all of the files necessary to "depend" on-->
	<!-- the project (not just the built files).  Make a separate        -->
	<!-- artifact for groups of files that will probably be copied to    -->
	<!-- separate directoris (e.g. jars and conf files)                  -->
	<!-- =============================================================== -->
	<target name="defineArtifacts" depends="prepare">

		<!-- Common Jar Artifacts -->
		<artifact track="main" type="jars" id="mobius.jars">
			<fileset dir="${share.dir}/lib/mobius">
				<include name="*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="caCORE.jars">
			<fileset dir="${share.dir}/lib/caCORE">
				<include name="*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="mds.jars">
			<fileset dir="${share.dir}/lib/mds">
				<include name="*.jar" />
			</fileset>
		</artifact>
		<artifact track="test" type="jars" id="common.test.jars">
			<fileset dir="${test.lib.dir}">
				<include name="jdepend*.jar" />
				<include name="junit*.jar" />
				<include name="xmlunit*.jar" />
			</fileset>
		</artifact>
		<artifact track="test" type="jars" id="test.coverage.jars">
			<fileset dir="${test.lib.dir}/cobertura">
				<include name="*.jar" />
			</fileset>
		</artifact>


		<!-- Project Created Artifacts -->
		<artifact track="main" type="jars" id="core.jars">
			<antcall target="build-core" />
			<fileset dir="${projects.dir}/core/build/jars">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/core/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/core/ext/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
		</artifact>
		<artifact track="test" type="jars" id="core.test.jars">
			<antcall target="build-core" />
			<fileset dir="${projects.dir}/core/build/jars">
				<include name="*test*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="resources" id="core.resources">
			<fileset dir="${projects.dir}/core/resources">
				<include name="**" />
			</fileset>
		</artifact>


		<artifact track="main" type="jars" id="common.metadata.jars">
			<antcall target="build-metadata" />
			<fileset dir="${projects.dir}/metadata/build/lib">
				<include name="*-common*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/metadata/ext/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="data.metadata.jars">
			<antcall target="build-metadata" />
			<fileset dir="${projects.dir}/metadata/build/lib">
				<include name="*-common*.jar" />
				<include name="*-data*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="security.metadata.jars">
			<antcall target="build-metadata" />
			<fileset dir="${projects.dir}/metadata/build/lib">
				<include name="*-security*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="schemas" id="metadata.schemas">
			<fileset dir="${projects.dir}/metadata/schema">
				<include name="**/*.xsd" />
			</fileset>
		</artifact>
		<artifact track="main" type="schemas" id="security.metadata.schemas">
			<fileset dir="${projects.dir}/metadata/schema/cagrid/types/security">
				<include name="*.xsd" />
			</fileset>
		</artifact>
		<artifact track="main" type="mappings" id="metadata.mappings">
			<fileset dir="${projects.dir}/metadata">
				<include name="NStoPkg.properties" />
			</fileset>
		</artifact>


		<artifact track="main" type="jars" id="opensaml.jars">
			<antcall target="build-opensaml" />
			<fileset dir="${projects.dir}/opensaml/dist">
				<include name="cagrid-opensaml-1.1.jar" />
			</fileset>
		</artifact>
		<artifact track="endorsed" type="jars" id="opensaml.endorsed">
			<fileset dir="${projects.dir}/opensaml/endorsed">
				<include name="xercesImpl.jar" />
				<include name="xml-apis.jar" />
			</fileset>
		</artifact>


		<artifact track="main" type="jars" id="graph.jars">
			<antcall target="build-graph" />
			<fileset dir="${projects.dir}/graph/build/jars">
				<include name="*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/graph/lib">
				<include name="*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="gridca.jars">
			<antcall target="build-gridca" />
			<fileset dir="${projects.dir}/gridca/build/lib">
				<include name="gridca.jar" />
			</fileset>
		</artifact>

		<artifact track="main" type="jars" id="dorian.jars">
			<antcall target="build-dorian" />
			<fileset dir="${projects.dir}/dorian/build/lib">
				<include name="*.jar" />
			</fileset>
		</artifact>

		<artifact track="main" type="jars" id="gts.client.jars">
			<antcall target="build-gts" />
			<fileset dir="${projects.dir}/gts/build/lib">
				<include name="GTS_stubs.jar" />
				<include name="GTS-common.jar" />
				<include name="GTS-client.jar" />
			</fileset>
			<fileset dir="${projects.dir}/metadata/build/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/metadata/ext/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
		</artifact>

		<artifact track="main" type="jars" id="syncgts.client.jars">
			<antcall target="build-syncgts" />
			<fileset dir="${projects.dir}/syncgts/build/lib">
				<include name="SyncGTS_stubs.jar" />
				<include name="SyncGTS-common.jar" />
				<include name="SyncGTS-client.jar" />
			</fileset>
			<fileset dir="${projects.dir}/metadata/build/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/metadata/ext/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
		</artifact>
		
		<!-- syncGts description and configuration files -->
		<artifact track="main" type="resources" id="syncgts.config.docs">
			<fileset dir="${projects.dir}/syncgts/etc">
				<include name="sync-description.xml" />
			</fileset>
		</artifact>
		

		<artifact track="main" type="jars" id="cadsr.jars">
			<antcall target="build-cadsr" />
			<fileset dir="${projects.dir}/cadsr/build/lib">
				<include name="*.jar" />
				<exclude name="*test*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/cadsr/lib">
				<include name="*.jar" />
			</fileset>
			<fileset dir="${projects.dir}/cadsr/ext/lib">
				<include name="*.jar" />
			</fileset>
		</artifact>


		<artifact track="main" type="jars" id="data.jars">
			<antcall target="build-data" />
			<fileset dir="${projects.dir}/data/build/lib">
				<include name="*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="schemas" id="data.cql.schemas">
			<fileset dir="${projects.dir}/data/schema">
				<include name="**/*.xsd" />
			</fileset>
		</artifact>
		<artifact track="main" type="resources" id="data.cql.testing.docs">
			<fileset dir="${projects.dir}/data/docs/cqlExamples">
				<include name="**/*.xml"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="sdk.query.jars">
			<antcall target="build-sdkQuery" />
			<fileset dir="${projects.dir}/sdkQuery/build/lib">
				<include name="*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="fqp.jars">
			<antcall target="build-fqp" />
			<fileset dir="${projects.dir}/fqp/build/lib">
				<include name="*.jar">
				</include>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="ws.enum.jars">
			<antcall target="build-wsEnum"/>
			<fileset dir="${projects.dir}/wsEnum/build/lib">
				<include name="*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/wsEnum/lib">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="schemas" id="ws.enum.schemas">
			<fileset dir="${projects.dir}/wsEnum/schema">
				<include name="enumeration.xsd"/>
				<include name="enumeration.wsdl"/>
			</fileset>
		</artifact>


		<artifact track="main" type="resources" id="gridca.resources">
			<fileset dir="${projects.dir}/gridca/resources">
				<include name="**" />
			</fileset>
		</artifact>


		<artifact track="main" type="jars" id="cql2xpath.jars">
			<antcall target="build-cql2xpath" />
			<fileset dir="${projects.dir}/cql2xpath/build/lib">
				<include name="*.jar" />
			</fileset>
		</artifact>


		<artifact track="main" type="jars" id="introduce.jars">
			<antcall target="build-introduce" />
			<fileset dir="${projects.dir}/introduce/build/jars">
				<include name="*.jar" />
				<exclude name="*tests*.jar" />
			</fileset>
		</artifact>
		<artifact track="main" type="resources" id="introduce.resources">
			<fileset dir="${projects.dir}/introduce/resources">
				<include name="**" />
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="introduce.servicesecurity.jars">
			<antcall target="build-introduceServiceSecurity" />
			<fileset dir="${projects.dir}/introduce/operationProviders/ServiceSecurity/build/lib">
				<include name="*.jar" />
				<exclude name="*tests*.jar" />
			</fileset>
		</artifact>


		<artifact track="main" type="jars" id="discovery.jars">
			<antcall target="build-discovery" />
			<fileset dir="${projects.dir}/discovery/build/jars">
				<include name="*.jar" />
				<exclude name="*tests*.jar" />
			</fileset>
		</artifact>


		<artifact track="main" type="jars" id="gme.globus.client.jars">
			<antcall target="build-gme" />
			<fileset dir="${projects.dir}/gme/lib">
				<include name="GlobalModelExchange.jar" />
				<include name="jdom-1.0.jar" />
				<include name="mobius-castor-0.9.4.3-xml.jar" />
			</fileset>
			<fileset dir="${projects.dir}/gme/build/lib">
				<include name="caGrid-GlobalModelExchange.jar" />
				<include name="caGrid-GlobalModelExchange_stubs.jar" />
			</fileset>
		</artifact>
	</target>
</project>
