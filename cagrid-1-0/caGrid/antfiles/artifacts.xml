<!-- ======================================================================= -->
<!-- caGrid Artifacts build file                                             -->
<!-- ======================================================================= -->
<project name="caGrid_artifacts" basedir="." default="usage">
	<!-- =============================================================== -->
	<!-- Define the build artifacts (created/used by projects) here      -->
	<!--                                                                 -->
	<!-- NOTE:  These should be all of the files necessary to "depend" on-->
	<!-- the project (not just the built files).  Make a separate        -->
	<!-- artifact for groups of files that will probably be copied to    -->
	<!-- separate directoris (e.g. jars and conf files)                  -->
	<!-- =============================================================== -->
	<target name="defineArtifacts" depends="prepare">
		<!-- Common Jar Artifacts -->
		<artifact track="main" type="jars" id="mobius.jars">
			<fileset dir="${share.dir}/lib/mobius">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="caCORE.jars">
			<fileset dir="${share.dir}/lib/caCORE">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="caCORE.3.2.jars">
			<fileset dir="${share.dir}/lib/caCORE32">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="schemas" id="caCORE.3.2.schemas">
			<fileset dir="${share.dir}/xsd/caCORE32">
				<include name="*.xsd"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="jet.jars">
			<fileset dir="${share.dir}/lib/jet">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="mds.jars">
			<fileset dir="${share.dir}/lib/mds">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="ant-contrib.jars">
			<fileset dir="${share.dir}/lib">
				<include name="ant-contrib.jar"/>
			</fileset>
		</artifact>
		<artifact track="test" type="jars" id="common.test.jars">
			<fileset dir="${test.lib.dir}">
				<include name="jdepend*.jar"/>
				<include name="junit*.jar"/>
				<include name="xmlunit*.jar"/>
			</fileset>
		</artifact>
		<artifact track="test" type="jars" id="test.coverage.jars">
			<fileset dir="${test.lib.dir}/cobertura">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<!-- Project Created Artifacts -->
		<artifact track="main" type="jars" id="core.jars">
			<antcall target="build-core"/>
			<fileset dir="${projects.dir}/core/build/jars">
				<include name="*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/core/lib">
				<include name="*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/core/ext/lib">
				<include name="*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
		</artifact>
		<artifact track="test" type="jars" id="core.test.jars">
			<antcall target="build-core"/>
			<fileset dir="${projects.dir}/core/build/jars">
				<include name="*test*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="resources" id="core.resources">
			<fileset dir="${projects.dir}/core/resources">
				<include name="**"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="common.metadata.jars">
			<antcall target="build-metadata"/>
			<fileset dir="${projects.dir}/metadata/build/lib">
				<include name="*-common*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="data.metadata.jars">
			<antcall target="build-metadata"/>
			<fileset dir="${projects.dir}/metadata/build/lib">
				<include name="*-common*.jar"/>
				<include name="*-data*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="security.metadata.jars">
			<antcall target="build-metadata"/>
			<fileset dir="${projects.dir}/metadata/build/lib">
				<include name="*-security*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="schemas" id="metadata.schemas">
			<fileset dir="${projects.dir}/metadata/schema">
				<include name="**/*.xsd"/>
			</fileset>
		</artifact>
		<artifact track="main" type="schemas" id="security.metadata.schemas">
			<fileset dir="${projects.dir}/metadata/schema/cagrid/types/security">
				<include name="*.xsd"/>
			</fileset>
		</artifact>
		<artifact track="main" type="mappings" id="metadata.mappings">
			<fileset dir="${projects.dir}/metadata">
				<include name="NStoPkg.properties"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="opensaml.jars">
			<antcall target="build-opensaml"/>
			<fileset dir="${projects.dir}/opensaml/dist">
				<include name="caGrid-1.0-opensaml-1.1.jar"/>
			</fileset>
		</artifact>
		<artifact track="endorsed" type="jars" id="opensaml.endorsed">
			<fileset dir="${projects.dir}/opensaml/endorsed">
				<include name="xercesImpl.jar"/>
				<include name="xml-apis.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="opensaml.codec">
			<antcall target="build-opensaml"/>
			<fileset dir="${projects.dir}/opensaml/lib">
				<include name="commons-codec-1.3.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="graph.jars">
			<antcall target="build-graph"/>
			<fileset dir="${projects.dir}/graph/build/jars">
				<include name="*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/graph/lib">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="gridca.jars">
			<antcall target="build-gridca"/>
			<fileset dir="${projects.dir}/gridca/build/lib">
				<include name="*gridca*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="authentication.service.client.jars">
			<antcall target="build-authentication-service"/>
			<fileset dir="${projects.dir}/authentication-service/build/lib">
				<include name="caGrid-*-authentication-service-*stubs.jar"/>
				<include name="caGrid-*-authentication-service-*common.jar"/>
				<include name="caGrid-*-authentication-service-*client.jar"/>
				<include name="caGrid-*-authentication-service-*ui.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/authentication-service/ext/lib">
				<include name="caGrid*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="gridgrouper.client.jars">
			<antcall target="build-gridgrouper"/>
			<fileset dir="${projects.dir}/gridgrouper/build/lib">
				<include name="caGrid-*-gridgrouper-*stubs.jar"/>
				<include name="caGrid-*-gridgrouper-*common.jar"/>
				<include name="caGrid-*-gridgrouper-*client.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/gridgrouper/lib">
				<include name="*grouper*.jar"/>
				<include name="*subject*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/gridgrouper/ext/lib">
				<include name="*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="gridgrouper.ui.jars">
			<antcall target="build-gridgrouper"/>
			<fileset dir="${projects.dir}/gridgrouper/build/lib">
				<include name="caGrid-*-gridgrouper-*stubs.jar"/>
				<include name="caGrid-*-gridgrouper-*common.jar"/>
				<include name="caGrid-*-gridgrouper-*client.jar"/>
				<include name="caGrid-*-gridgrouper-*ui.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/gridgrouper/lib">
				<include name="*grouper*.jar"/>
				<include name="*subject*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/gridgrouper/ext/lib">
				<include name="*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="gridgrouper.jars">
			<antcall target="build-gridgrouper"/>
			<fileset dir="${projects.dir}/gridgrouper/build/lib">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="schemas" id="gridgrouper.schemas">
			<fileset dir="${projects.dir}/gridgrouper/schema/GridGrouper/">
				<include name="*.xsd"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="dorian.ui.jars">
					<antcall target="build-dorian" />
					<fileset dir="${projects.dir}/dorian/build/lib">
							<include name="caGrid-*-dorian-*stubs.jar" />
							<include name="caGrid-*-dorian-*common.jar" />
							<include name="caGrid-*-dorian-*client.jar" />
							<include name="caGrid-*-dorian-*ui.jar" />
					</fileset>
					<fileset dir="${projects.dir}/dorian/lib">
							<include name="*.jar" />
							<exclude name="*test*.jar" />
					</fileset>
					<fileset dir="${projects.dir}/dorian/ext/lib">
							<include name="*.jar" />
							<exclude name="*test*.jar" />
					</fileset>
		</artifact>
		
		<artifact track="endorsed" type="jars" id="dorian.endorsed">
			<fileset dir="${projects.dir}/dorian/ext/endorsed/lib">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="dorian.client.jars">
						<antcall target="build-dorian" />
						<fileset dir="${projects.dir}/dorian/build/lib">
								<include name="caGrid-*-dorian-*stubs.jar" />
								<include name="caGrid-*-dorian-*common.jar" />
								<include name="caGrid-*-dorian-*client.jar" />
						</fileset>
						<fileset dir="${projects.dir}/dorian/lib">
								<include name="*.jar" />
								<exclude name="*test*.jar" />
						</fileset>
						<fileset dir="${projects.dir}/dorian/ext/lib">
								<include name="*.jar" />
								<exclude name="*test*.jar" />
						</fileset>
			</artifact>

		<artifact track="main" type="jars" id="dorian.jars">
			<antcall target="build-dorian"/>
			<fileset dir="${projects.dir}/dorian/build/lib">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="dorian.schemas">
			<antcall target="build-dorian"/>
			<fileset dir="${projects.dir}/dorian/build/schema/Dorian">
				<include name="*.xsd"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="gts.ui.jars">
			<antcall target="build-gts"/>
			<fileset dir="${projects.dir}/gts/build/lib">
				<include name="caGrid-*-gts-*stubs.jar"/>
				<include name="caGrid-*-gts-*common.jar"/>
				<include name="caGrid-*-gts-*client.jar"/>
				<include name="caGrid-*-gts-*ui.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/gts/lib">
				<include name="*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/gts/ext/lib">
				<include name="*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="gts.client.jars">
			<antcall target="build-gts"/>
			<fileset dir="${projects.dir}/gts/build/lib">
				<include name="caGrid-*-gts-*stubs.jar"/>
				<include name="caGrid-*-gts-*common.jar"/>
				<include name="caGrid-*-gts-*client.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/gts/lib">
				<include name="*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/gts/ext/lib">
				<include name="*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="syncgts.client.jars">
			<antcall target="build-syncgts"/>
			<fileset dir="${projects.dir}/syncgts/build/lib">
				<include name="caGrid-*-syncgts-*stubs.jar"/>
				<include name="caGrid-*-syncgts-*common.jar"/>
				<include name="caGrid-*-syncgts-*client.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/syncgts/lib">
				<include name="*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/syncgts/ext/lib">
				<include name="*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
		</artifact>
		<!-- syncGts description and configuration files -->
		<artifact track="main" type="resources" id="syncgts.config.docs">
			<fileset dir="${projects.dir}/syncgts/etc">
				<include name="sync-description.xml"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="cadsr.jars">
			<antcall target="build-cadsr"/>
			<fileset dir="${projects.dir}/cadsr/build/lib">
				<include name="*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/cadsr/lib">
				<include name="*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/cadsr/ext/lib">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="evs.jars">
			<antcall target="build-cadsr"/>
			<fileset dir="${projects.dir}/evs/build/lib">
				<include name="*.jar"/>
				<exclude name="*test*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/evs/lib">
				<include name="*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/evs/ext/lib">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="data.jars">
			<antcall target="build-data"/>
			<fileset dir="${projects.dir}/data/build/lib">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		
		<artifact track="main" type="schemas" id="data.cql.schemas">
			<fileset dir="${projects.dir}/data/schema">
				<include name="**/*.xsd"/>
			</fileset>
		</artifact>
		<artifact track="main" type="resources" id="data.cql.testing.docs">
			<fileset dir="${projects.dir}/data/docs/cqlExamples">
				<include name="**/*.xml"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="sdk.query.jars">
			<antcall target="build-sdkQuery"/>
			<fileset dir="${projects.dir}/sdkQuery/build/lib">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="fqp.jars">
			<antcall target="build-fqp"/>
			<fileset dir="${projects.dir}/fqp/build/lib">
				<include name="*.jar"> </include>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="ws.enum.jars">
			<antcall target="build-wsEnum"/>
			<fileset dir="${projects.dir}/wsEnum/build/lib">
				<include name="*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/wsEnum/lib">
				<include name="*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="schemas" id="ws.enum.schemas">
			<fileset dir="${projects.dir}/wsEnum/schema">
				<include name="enumeration.xsd"/>
				<include name="addressing.xsd"/>
				<include name="enumeration.wsdl"/>
			</fileset>
		</artifact>
		<!--
		<artifact track="main" type="resources" id="gridca.resources">
			<fileset dir="${projects.dir}/gridca/resources">
				<include name="**" />
			</fileset>
		</artifact>
-->
		<artifact track="main" type="jars" id="introduce.jars">
			<antcall target="build-introduce"/>
			<fileset dir="${projects.dir}/introduce/build/jars">
				<include name="*.jar"/>
				<exclude name="*tests*.jar"/>
			</fileset>
		</artifact>
		<artifact track="test" type="jars" id="introduce.core.test.jars">
			<antcall target="build-introduce"/>
			<fileset dir="${projects.dir}/introduce/build/jars">
				<include name="*core-tests*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="resources" id="introduce.resources">
			<fileset dir="${projects.dir}/introduce/resources">
				<include name="**"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="servicesecurity.jars">
			<antcall target="build-service-security-provider"/>
			<fileset dir="${projects.dir}/service-security-provider/build/lib">
				<include name="*.jar"/>
				<exclude name="*tests*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/service-security-provider/ext/lib">
				<include name="*.jar"/>
				<exclude name="*tests*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="schemas" id="servicesecurity.wsdl">
			<fileset dir="${projects.dir}/service-security-provider/schema/ServiceSecurity">
				<include name="*.wsdl"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="discovery.jars">
			<antcall target="build-discovery"/>
			<fileset dir="${projects.dir}/discovery/build/jars">
				<include name="*.jar"/>
				<exclude name="*tests*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/discovery/ext/lib">
				<include name="*.jar"/>
				<exclude name="*tests*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="metadatautils.jars">
			<antcall target="build-metadatautils"/>
			<fileset dir="${projects.dir}/metadatautils/ext/lib">
				<include name="*.jar"/>
				<exclude name="*tests*.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/metadatautils/build/jars">
				<include name="*.jar"/>
				<exclude name="*tests*.jar"/>
			</fileset>
		</artifact>
		<artifact track="main" type="jars" id="gme.globus.client.jars">
			<antcall target="build-gme"/>
			<fileset dir="${projects.dir}/gme/lib">
				<include name="GlobalModelExchange.jar"/>
				<include name="jdom-1.0.jar"/>
				<include name="mobius-castor-0.9.4.3-xml.jar"/>
			</fileset>
			<fileset dir="${projects.dir}/gme/build/lib">
				<include name="caGrid-1.0-GlobalModelExchange.jar"/>
				<include name="caGrid-1.0-GlobalModelExchange_stubs.jar"/>
			</fileset>
		</artifact>

		<artifact track="main" type="jars" id="authz.jars">
			<antcall target="build-authz"/>	
			<fileset dir="${projects.dir}/authz/build">
				<include name="caGrid-1.0-authz-common.jar"/>
			</fileset>	
			<fileset dir="${projects.dir}/authz/lib">
				<include name="antlr-2.7.6rc1.jar"/>
				<include name="c3p0-0.8.5.2.jar"/>
				<include name="clm.jar"/>
				<include name="commons-dbcp-1.2.1.jar"/>
				<include name="commons-lang-1.0.1.jar"/>
				<include name="csmapi.jar"/>
				<include name="dom4j-1.6.1.jar"/>
				<include name="ehcache-1.1.jar"/>
				<!-- NOTE: This is still Hibernate 3.1.3 -->
				<include name="hibernate3.jar"/>
				<include name="jdom.jar"/>
				<include name="jta.jar"/>
				<include name="jtds-1.2.jar"/>
				<include name="mysql-connector-java-3.1.11-bin.jar"/>
				<include name="spring-core.jar"/>
				<include name="spring-beans.jar"/>				
			</fileset>
			<fileset dir="${projects.dir}/authz/ext/lib">
				<include name="caGrid-1.0-core.jar"/>
				<include name="caGrid-1.0-gridca.jar"/>
				<include name="caGrid-1.0-gridgrouper-client.jar"/>
				<include name="caGrid-1.0-gridgrouper-common.jar"/>
				<include name="caGrid-1.0-gridgrouper-stubs.jar"/>
				<include name="caGrid-1.0-metadata-common.jar"/>
				<include name="caGrid-1.0-metadata-security.jar"/>
				<include name="caGrid-1.0-ServiceSecurityProvider-client.jar"/>
				<include name="caGrid-1.0-ServiceSecurityProvider-common.jar"/>
				<include name="caGrid-1.0-ServiceSecurityProvider-service.jar"/>
				<include name="caGrid-1.0-ServiceSecurityProvider-stubs.jar"/>
				<include name="cglib-nodep-2.1_3.jar"/>
				<include name="grouper.jar"/>
				<include name="mobius_common_client.jar"/>
				<include name="mobius_factories.jar"/>
				<include name="mobius_gme_client.jar"/>
				<include name="mobius_mako_client.jar"/>
				<include name="mobius_tools.jar"/>
				<include name="subject-0.2.1.jar"/>
			</fileset>
		</artifact>
		
		<!-- These are the only jars need to do CSM RDBMS authentication. -->
		<artifact track="main" type="jars" id="csm.auth.jars">
			<fileset dir="${projects.dir}/authz/lib">
				<include name="csmapi.jar"/>
				<include name="mysql-connector-java-3.1.11-bin.jar"/>
				<include name="jdom.jar"/>
				<include name="clm.jar"/>				
			</fileset>
		</artifact>
		

		<!-- Authz uses this as a dependency. If you need to use 
		Authz in your project, don't use this. Use authz.jars -->		
		<artifact id="authz.misc.jars" track="main" type="jars">
			<fileset dir="${share.dir}/lib/caCORE">
				<include name="cglib-nodep-2.1_3.jar"/>
			</fileset>
			<fileset dir="${test.lib.dir}">
				<include name="cobertura/asm-2.2.1.jar"/>
				<include name="junit.jar"/>				
			</fileset>
		</artifact>
	</target>
</project>