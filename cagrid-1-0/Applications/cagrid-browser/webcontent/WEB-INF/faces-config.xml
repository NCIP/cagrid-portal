<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE faces-config PUBLIC
        "-//Sun Microsystems, Inc.//DTD JavaServer Faces Config 1.1//EN"
        "http://java.sun.com/dtd/web-facesconfig_1_1.dtd">


<faces-config>
    <application>
        <locale-config>
            <default-locale>en</default-locale>
        </locale-config>
        <message-bundle>
            labels
        </message-bundle>
        <message-bundle>
            messages
        </message-bundle>
    </application>
    
	<converter>
	  <description>Converts between String and CountryCode objects.
	  </description>
	  <converter-id>CountryCodeConverter</converter-id>
	  <converter-class>
	    gov.nih.nci.cagrid.browser.converters.CountryCodeConverter
	  </converter-class>
	</converter>
	
	<converter>
	  <description>Converts between String and StateCode objects.
	  </description>
	  <converter-id>StateCodeConverter</converter-id>
	  <converter-class>
	    gov.nih.nci.cagrid.browser.converters.StateCodeConverter
	  </converter-class>
	</converter>

    <!-- To check if user is logged in -->
    <lifecycle>
        <phase-listener>gov.nih.nci.cagrid.browser.navigation.LoggedInCheck</phase-listener>
    </lifecycle>

    <navigation-rule>
        <from-view-id>*</from-view-id>
        <navigation-case>
            <from-outcome>logout</from-outcome>
            <to-view-id>/LoginFailed.tiles</to-view-id>
        </navigation-case>
    </navigation-rule>


    <!-- Managed Beans -->
    <!--
    <managed-bean>
        <managed-bean-name>caGridService</managed-bean-name>
        <managed-bean-class>gov.nih.nci.cagrid.browser.beans.CaGridService</managed-bean-class>
        <managed-bean-scope>none</managed-bean-scope>
    </managed-bean>
    -->

	<!--
    <managed-bean>
        <managed-bean-name>discoveryResult</managed-bean-name>
        <managed-bean-class>gov.nih.nci.cagrid.browser.beans.DiscoveredServices</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>
    -->

    <!-- Index Service Bean -->
    <!--
    <managed-bean>
        <managed-bean-name>indexService</managed-bean-name>
        <managed-bean-class>gov.nih.nci.cagrid.browser.beans.IndexService</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>indexList</property-name>
            <list-entries>
                <value>http://cagrid04.bmi.ohio-state.edu:7080/wsrf/services/DefaultIndexService</value>
                <value>http://cagrid-registry-qa.nci.nih.gov/ogsa/services/cagrid/IndexService</value>
            </list-entries>
        </managed-property>
    </managed-bean>
    -->

	<!--
    <managed-bean>
        <managed-bean-name>keywordDiscoveryBean</managed-bean-name>
        <managed-bean-class>gov.nih.nci.cagrid.browser.beans.KeywordSearchCriteria</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
        <managed-property>
            <property-name>discoveryResult</property-name>
            <property-class>gov.nih.nci.cagrid.browser.beans.DiscoveredServices</property-class>
            <value>#{discoveryResult}</value>
        </managed-property>
        <managed-property>
            <property-name>idxService</property-name>
            <property-class>gov.nih.nci.cagrid.browser.beans.IndexService</property-class>
            <value>#{indexService}</value>
        </managed-property>
    </managed-bean>
    -->

	<!--
    <managed-bean>
        <managed-bean-name>serviceCart</managed-bean-name>
        <managed-bean-class>gov.nih.nci.cagrid.browser.beans.ServiceCart</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>
	-->
	<!--
    <managed-bean>
        <managed-bean-name>
            browserConfig
        </managed-bean-name>
        <managed-bean-class>
            gov.nih.nci.cagrid.browser.beans.BrowserConfig
        </managed-bean-class>
        <managed-bean-scope>
            session
        </managed-bean-scope>
        <managed-property>
            <property-name>caCOREServiceURL</property-name>
            <value>http://cabio.nci.nih.gov/cacore30/server/HTTPServer</value>
        </managed-property>
        <managed-property>
            <property-name>indexService</property-name>
            <property-class>gov.nih.nci.cagrid.browser.beans.IndexService</property-class>
            <value>#{indexService}</value>
        </managed-property>
    </managed-bean>
    -->

	
    <managed-bean>
        <managed-bean-name>
            loginBean
        </managed-bean-name>
        <managed-bean-class>
            gov.nih.nci.cagrid.browser.beans.LoginBean
        </managed-bean-class>
        <managed-bean-scope>
            session
        </managed-bean-scope>
        <managed-property>
            <property-name>idpUrl</property-name>
            <value>https://cbiovdev5017.nci.nih.gov:8441/wsrf/services/cagrid/Dorian</value>
        </managed-property>
        <managed-property>
            <property-name>ifsUrl</property-name>
            <value>https://cbiovdev5017.nci.nih.gov:8441/wsrf/services/cagrid/Dorian</value>
        </managed-property>
        <managed-property>
            <property-name>guestUsername</property-name>
            <value>guest</value>
        </managed-property>
        <managed-property>
            <property-name>guestPassword</property-name>
            <value>guest</value>
        </managed-property>
        <managed-property>
            <property-name>guestUsernameMapsTo</property-name>
            <value>guest</value>
        </managed-property>
        <managed-property>
            <property-name>guestPasswordMapsTo</property-name>
            <value>guest</value>
        </managed-property>
        <managed-property>
            <property-name>proxyValidTime</property-name>
            <value>12</value>
        </managed-property>
        <managed-property>
            <property-name>delegationPathLength</property-name>
            <value>0</value>
        </managed-property>
    </managed-bean>
    
    <!--
    <managed-bean>
        <managed-bean-name>appUtils</managed-bean-name>
        <managed-bean-class>gov.nih.nci.cagrid.browser.util.AppUtils</managed-bean-class>
        <managed-bean-scope>application</managed-bean-scope>
    </managed-bean>
    -->

	<!--
    <managed-bean>
        <managed-bean-name>sampleQueriesBean</managed-bean-name>
        <managed-bean-class>gov.nih.nci.cagrid.browser.beans.SampleXMLQueries</managed-bean-class>
        <managed-property>
            <property-name>queryFilename</property-name>
            <value>/examples/queryExamples.xml</value>
        </managed-property>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>
    -->

	<!--
    <managed-bean>
        <managed-bean-name>DiscoveryCompletetionBean</managed-bean-name>
        <managed-bean-class>gov.nih.nci.cagrid.browser.ajax.DiscoveryCompletetionBean</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>
    -->


    <!-- Generic Error page forward -->
    <!--
    <navigation-rule>
        <from-view-id>*</from-view-id>
        <navigation-case>
            <from-outcome>failed</from-outcome>
            <to-view-id>/Error_RuntimeException.tiles</to-view-id>
        </navigation-case>
    </navigation-rule>
    -->


    <navigation-rule>
        <from-view-id>/RegisterNewUser_noLogin.tiles</from-view-id>

        <navigation-case>
            <from-action>#{loginBean.doRegister}</from-action>
            <from-outcome>success</from-outcome>
            <to-view-id>/RegisterNewUserConfirmation_noLogin.tiles</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-action>#{loginBean.doRegister}</from-action>
            <from-outcome>failed</from-outcome>
            <to-view-id>/Error_RegistrationException_noLogin.tiles</to-view-id>
        </navigation-case>
    </navigation-rule>

    <!--Login Page -->
    <navigation-rule>
        <navigation-case>
            <from-action>#{loginBean.doLogin}</from-action>
            <from-outcome>success</from-outcome>
            <to-view-id>/HomePage.tiles</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-action>#{loginBean.doLogin}</from-action>
            <from-outcome>failed</from-outcome>
            <to-view-id>/LoginFailed.tiles</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/PreLogin.tiles</from-view-id>
        <navigation-case>
            <from-outcome>signUp</from-outcome>
            <to-view-id>/RegisterNewUser_noLogin.tiles</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/HomePage.tiles</from-view-id>
        <navigation-case>
            <from-action>#{loginBean.doLogout}</from-action>
            <from-outcome>success</from-outcome>
            <to-view-id>/PreLogin.tiles</to-view-id>
        </navigation-case>
    </navigation-rule>


    <!-- GUI query Builder -->
    <!--
    <navigation-rule>
        <from-view-id>/DomainObjectDetails.tiles</from-view-id>
        <navigation-case>
            <from-action>#{queryWizard.createCQLQueryWizard}</from-action>
            <from-outcome>success</from-outcome>
            <to-view-id>/CQLQueryWizard.tiles</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-action>#{queryWizard.createFQPQueryWizard}</from-action>
            <from-outcome>success</from-outcome>
            <to-view-id>/FQPQueryWizard.tiles</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <navigation-case>
            <from-action>#{queryWizard.createQuery}</from-action>
            <from-outcome>success</from-outcome>
            <to-view-id>/QueryGDSF.tiles</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <navigation-case>
            <from-action>#{queryWizard.createFQP}</from-action>
            <from-outcome>success</from-outcome>
            <to-view-id>/QueryFQP.tiles</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
        <navigation-case>
            <from-action>#{queryWizard.submitFQPD}</from-action>
            <from-outcome>success</from-outcome>
            <to-view-id>/QueryFQPResult.tiles</to-view-id>
        </navigation-case>
    </navigation-rule>
    -->


    <!-- Service cart generic definition -->
    <!--
    <navigation-rule>
        <navigation-case>
            <from-outcome>serviceAddedToCart</from-outcome>
            <to-view-id>/ServiceCart.tiles</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>serviceRemovedFromCart</from-outcome>
            <to-view-id>/ServiceCart.tiles</to-view-id>
        </navigation-case>
    </navigation-rule>
    -->


    <!-- Generic Rule applies to ALL forms -->
    <!--
    <navigation-rule>
        <from-view-id>*</from-view-id>
        <navigation-case>
            <from-action>#{service.navigateToServiceDetails}</from-action>
            <from-outcome>success</from-outcome>
            <to-view-id>/ServiceDetails.tiles</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-action>#{keywordDiscoveryBean.doDiscovery}</from-action>
            <from-outcome>success</from-outcome>
            <to-view-id>/DiscoveryResults.tiles</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-action>#{keywordDiscoveryBean.doDiscoveryAll}</from-action>
            <from-outcome>success</from-outcome>
            <to-view-id>/DiscoveryResults.tiles</to-view-id>
        </navigation-case>
    </navigation-rule>
    -->

    <!-- End navigation rules -->


</faces-config>